<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8">
  <title>Nenya - Screenshot Editor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../libs/daisyui@5.css">
  <link rel="stylesheet" href="../libs/daisyui@5-themes.css">
  <link rel="stylesheet" href="./editor.css">
  <script src="../libs/tailwindcss@4.js"></script>
  <style>
    canvas {
        image-rendering: pixelated;
    }
    #canvas-container {
        overflow: hidden; /* We will handle pan/zoom manually or via transform */
        background-color: #f3f4f6;
    }
  </style>
</head>
<body class="bg-base-200 h-screen flex flex-col overflow-hidden">
  <!-- Toolbar -->
  <div class="navbar bg-base-100 shadow-md z-10 p-2 gap-2 flex-wrap min-h-16 shrink-0">
    <div class="flex-1 gap-2 items-center overflow-x-auto">
        <!-- Tools -->
        <div class="join">
            <button class="btn btn-sm btn-ghost join-item" id="tool-select" title="Select (V)">ğŸ‘†</button>
            <button class="btn btn-sm btn-ghost join-item" id="tool-pan" title="Pan (Space)">âœ‹</button>
            <button class="btn btn-sm btn-ghost join-item" id="tool-crop" title="Crop (C)">âœ‚ï¸ Crop</button>
            <button class="btn btn-sm btn-ghost join-item" id="tool-arrow" title="Arrow (A)">â†—ï¸ Arrow</button>
            <button class="btn btn-sm btn-ghost join-item" id="tool-rect" title="Rectangle (R)">â¬œ Rect</button>
            <button class="btn btn-sm btn-ghost join-item" id="tool-text" title="Text (T)">T Text</button>
        </div>
        <div class="divider divider-horizontal mx-0"></div>

        <!-- Zoom Controls -->
        <div class="join">
             <button class="btn btn-sm btn-ghost join-item" id="zoom-out" title="Zoom Out">-</button>
             <span class="btn btn-sm btn-ghost join-item no-animation cursor-default" id="zoom-level">100%</span>
             <button class="btn btn-sm btn-ghost join-item" id="zoom-in" title="Zoom In">+</button>
             <button class="btn btn-sm btn-ghost join-item" id="zoom-fit" title="Fit to Screen">Fit</button>
        </div>
        <div class="divider divider-horizontal mx-0"></div>

        <!-- Properties -->
        <div class="flex gap-2 items-center" id="properties-panel">
            <input type="color" id="prop-color" class="w-8 h-8 p-0 border-0 rounded cursor-pointer" value="#ff0000" title="Color">

            <div class="flex flex-col w-20">
                <label class="text-[10px] text-base-content/50 leading-none">Opacity</label>
                <input type="range" id="prop-opacity" min="0.1" max="1" step="0.1" value="1" class="range range-xs" title="Opacity">
            </div>

            <div class="flex flex-col w-20" id="stroke-prop">
                <label class="text-[10px] text-base-content/50 leading-none">Thickness</label>
                <input type="range" id="prop-stroke" min="1" max="20" step="1" value="4" class="range range-xs" title="Stroke Thickness">
            </div>

            <div id="text-props" class="flex gap-1 items-center hidden">
                <select id="prop-font-family" class="select select-bordered select-xs w-24">
                    <option value="Arial">Arial</option>
                    <option value="Helvetica">Helvetica</option>
                    <option value="Times New Roman">Times</option>
                    <option value="Courier New">Courier</option>
                    <option value="Verdana">Verdana</option>
                </select>
                <input type="number" id="prop-font-size" class="input input-bordered input-xs w-16" value="24" min="8" max="120" title="Font Size">
            </div>
            <div class="divider divider-horizontal mx-0"></div>
            <button class="btn btn-sm btn-error btn-outline" id="action-delete" title="Delete Selected (Del)" disabled>ğŸ—‘ï¸</button>
        </div>
    </div>
    <div class="flex-none gap-2">
        <button class="btn btn-sm btn-primary" id="action-save">ğŸ’¾ Save JPEG</button>
        <button class="btn btn-sm btn-secondary" id="action-copy">ğŸ“‹ Copy</button>
    </div>
  </div>

  <!-- Canvas Container -->
  <div class="flex-1 relative" id="canvas-container">
     <canvas id="editor-canvas" class="shadow-lg bg-white origin-top-left"></canvas>
  </div>

  <script src="./editor.js" type="module"></script>
</body>
</html>
